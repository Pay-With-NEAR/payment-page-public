{"version":3,"file":"static/js/157.0ddc4256.chunk.js","mappings":"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","sources":["lib/api/server/lib.ts","lib/api/currencies/index.ts","lib/api/server/index.ts","lib/api/payment/api.ts","lib/config.ts","lib/near/converter.ts","lib/near/index.ts","models/payment.ts","ui/icons/logo.svg","ui/layout/layout.tsx","ui/layout/general-layout/general-layout.tsx","ui/icons/dropdown-arrow.svg","ui/icons/next.svg","ui/button/button.tsx","ui/loader/loader.tsx","ui/loader/loader-container/loader-container.tsx"],"sourcesContent":["import { AxiosError, AxiosResponse } from 'axios';\nimport {\n  NearpayApiErrorResponse,\n  NearpayApiSuccessResponse,\n} from './interfaces';\n\nfunction isAxiosError(error: any): error is AxiosError {\n  return error.isAxiosError === true;\n}\n\nexport async function wrapRequest<T>(\n  request: () => Promise<AxiosResponse>,\n): Promise<T> {\n  try {\n    const response = await request();\n\n    const successResponse = response.data as NearpayApiSuccessResponse<T>;\n    return successResponse.result;\n  } catch (error) {\n    if (isAxiosError(error) && error.response) {\n      const errorResponse = error.response.data as NearpayApiErrorResponse;\n      throw errorResponse.error;\n    }\n\n    throw error;\n  }\n}\n","import axios from 'axios';\nimport { endpoint, wrapRequest } from '../server';\nimport { ICurrency } from './interfaces';\n\nexport function fetchCurrencies(): Promise<ICurrency[]> {\n  return wrapRequest(() => axios.get(endpoint('v1/currencies')));\n}\n\nexport type { ICurrency } from './interfaces';\n","import { environment } from \"lib/config\";\n\nexport const endpoint = (path: string) => [environment.baseApi, path].join(\"/\");\nexport { wrapRequest } from \"./lib\";\n","import axios from \"axios\";\nimport { environment } from \"lib/config\";\nimport { TPayment, TPaymentApiResult } from \"./interfaces\";\n\nexport async function fetchPayment(id: string): Promise<TPayment> {\n  const res = await axios.get<TPaymentApiResult>(\n    `${environment.payWithNearUrl}/api/payment/${id}`\n  );\n\n  return mapFetchPaymentData(res.data);\n}\n\nfunction mapFetchPaymentData(data: TPaymentApiResult): TPayment {\n  return {\n    paymentId: data.payment_id,\n    network: data.network,\n    status: data.status,\n    address: data.address,\n    amount: data.amount,\n    name: data.name,\n    description: data.description,\n    displayAmountUsd: data.display_amount_usd,\n    displayAmount: data.display_amount,\n    returnUrl: data.return_url,\n    expiryAt: data.expiry_at,\n  };\n}\n","export const environment = {\n  baseApi: process.env.REACT_APP_API_BASE || \"\",\n  defaultCurrency: process.env.REACT_APP_DEFAULT_CURRENCY || \"\",\n  payWithNearUrl: process.env.REACT_APP_PAY_WITH_NEAR_URL || \"\",\n};\n","import { utils } from \"near-api-js\";\n\nexport const nearToYoktoNear = (nearAmount: number | undefined) => {\n  if (!nearAmount) {\n    return null;\n  }\n\n  return utils.format.parseNearAmount(nearAmount.toString());\n};\n","import { useNearContext } from \"./near-context\";\nimport { transactions, utils } from \"near-api-js\";\n\ntype RedirectConfig = {\n  successUrl: string;\n  failureUrl: string;\n};\n\nconst NEAR_NOT_READY = new Error(\"Near is not ready yet\");\n\nexport function useNear(): {\n  isAuthorized: boolean;\n  isReady: boolean;\n  login: (redirects: RedirectConfig) => Promise<void>;\n  // amount should be in yoktonears (if we want to send 1 NEAR, then 1e18 should be provided as parameter)\n  send: (amount: string, account: string, callbackUrl: string) => Promise<void>;\n} {\n  const near = useNearContext();\n  return {\n    // whether we have access to username\n    isAuthorized: near !== null && !!near.walletConnection.getAccountId(),\n    // to manage loaders, because NEAR initialization is async operation\n    isReady: near !== null,\n    login: async (redirect: RedirectConfig) => {\n      if (!near) throw NEAR_NOT_READY;\n\n      await near.walletConnection.requestSignIn({\n        successUrl: redirect.successUrl,\n        failureUrl: redirect.failureUrl,\n      });\n    },\n    send: async (amount: string, account: string, callbackUrl: string) => {\n      if (!near) throw NEAR_NOT_READY;\n      const accountId = near.walletConnection.getAccountId();\n      const keypair = utils.KeyPair.fromRandom(\"ed25519\");\n      const publicKeyRandom = keypair.getPublicKey();\n      const block = await near.provider.block({ finality: \"final\" });\n      const recentBlockHash = utils.serialize.base_decode(block.header.hash);\n\n      const transaction = transactions.createTransaction(\n        accountId,\n        publicKeyRandom,\n        account || \"\",\n        1,\n        [transactions.transfer(amount)],\n        recentBlockHash\n      );\n\n      await near.walletConnection.requestSignTransactions({\n        transactions: [transaction],\n        callbackUrl,\n      });\n    },\n  };\n}\n\nexport * from \"./converter\";\n","import { paymentApi } from \"lib/api\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport useSWR from \"swr\";\n\nexport const usePayment = () => {\n  const { id: paymentId } = useParams();\n  const navigate = useNavigate();\n  const [isExpired, setIsExpired] = useState(false);\n\n  const paymentSwr = useSWR(\n    paymentId ? \"payment\" : null,\n    () => (paymentId ? paymentApi.fetchPayment(paymentId) : null),\n    { refreshInterval: isExpired ? 0 : 1, shouldRetryOnError: false }\n  );\n\n  useEffect(() => {\n    if (paymentSwr.data?.status === \"completed\") {\n      navigate(`/payment/${paymentId}/success`);\n\n      return;\n    }\n\n    const error = paymentSwr.error;\n\n    if (\n      error?.response.data.status === \"not_found\" &&\n      !!error?.response.data.expiry_at\n    ) {\n      setIsExpired(true);\n\n      return;\n    }\n\n    if (error?.response.data.status === \"not_found\") {\n      navigate(\"/not-found\");\n\n      return;\n    }\n  }, [navigate, paymentSwr.data, paymentSwr.error, paymentId]);\n\n  const handleExpired = useCallback(() => {\n    setIsExpired(true);\n  }, []);\n\n  return {\n    payment: paymentSwr.data,\n    paymentId,\n    isExpired,\n    handleExpired,\n  };\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 100 45\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M88.723 1.4c-8.956-3.65-20.125.374-27.291 5.895-2.213 1.684-2.423 4.678-.527 6.643 1.897 1.965 5.269 2.152 7.482.468 5.269-4.117 12.117-5.988 16.016-4.491 4.53 1.777 5.163 8.609 5.163 12.445 0 3.836-.631 10.666-5.163 12.444-3.9 1.685-10.749-.187-16.016-4.304L38.672 7.387c-7.165-5.52-18.334-9.544-27.292-5.895C6.217 3.552 0 8.885 0 22.452s6.217 18.901 11.38 21.052c8.957 3.65 20.126-.374 27.292-5.895 2.213-1.684 2.423-4.679.527-6.644-1.897-1.965-5.27-2.151-7.482-.468-5.269 4.117-12.117 5.989-16.016 4.491-4.53-1.777-5.164-8.608-5.164-12.444 0-3.837.632-10.667 5.164-12.444 3.794-1.591 10.748.374 15.911 4.49l29.715 23.112C66.596 41.819 73.97 45 81.137 45c2.529 0 5.057-.374 7.482-1.404 5.163-2.058 11.38-7.485 11.38-21.052.104-13.66-6.112-18.993-11.276-21.144z\",\n    fill: \"#081B27\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.adb66cb82f95774c1c9f289efac56eab.svg\";\nexport { ForwardRef as ReactComponent };","import \"./layout.scss\";\nimport { block } from \"bem-cn\";\nimport classNames from \"classnames\";\nimport React, { HTMLAttributes } from \"react\";\n\nconst b = block(\"pay-with-near-layout\");\nconst bMain = block(\"pay-with-near-main\");\nconst bFooter = block(\"pay-with-near-footer\");\n\ntype Props = {\n  className?: string;\n  children: React.ReactNode;\n};\nexport const Layout: React.FC<Props> = (props) => {\n  const { children, className } = props;\n\n  return (\n    <div className={b.mix(className)}>\n      <header className={b(\"header\")}>\n        <img\n          className={b(\"logo\")}\n          src=\"/assets/img/logo.png\"\n          alt=\"nearpay-logo\"\n        />\n      </header>\n      {children}\n    </div>\n  );\n};\n\nexport const Main: React.FC<Props> = (props) => {\n  return <main className={bMain.mix(props.className)}>{props.children}</main>;\n};\n\nexport const Footer: React.FC<React.HTMLAttributes<any>> = ({\n  className,\n  ...rest\n}: HTMLAttributes<HTMLDivElement>) => {\n  return (\n    <footer className={classNames(bFooter(), className)} {...rest}>\n      <a className={bFooter(\"support\")} href=\"mailto:support@nearpay.co\">\n        Support\n      </a>\n    </footer>\n  );\n};\n","import { Footer, Layout, Main } from \"../layout\";\nimport { block } from \"bem-cn\";\nimport \"./general-layout.scss\";\n\nconst b = block(\"pay-with-near-general-layout\");\n\ntype Props = {\n  className?: string;\n};\nexport const GeneralLayout: React.FC<Props> = (props) => {\n  const { className, children } = props;\n\n  return (\n    <Layout className={b.mix(className)}>\n      <Main className={b(\"main\")}>{children}</Main>\n      <Footer />\n    </Layout>\n  );\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropdownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 19,\n    height: 19,\n    viewBox: \"0 0 19 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.60462 13.166C8.55871 13.1213 8.36238 12.9524 8.20088 12.795C7.18517 11.8726 5.52267 9.46641 5.01521 8.20699C4.93367 8.01573 4.76108 7.53217 4.75 7.27381C4.75 7.02624 4.807 6.79025 4.92258 6.56505C5.08408 6.28432 5.33821 6.05912 5.63825 5.93572C5.84646 5.85629 6.4695 5.73289 6.48058 5.73289C7.16221 5.60949 8.26975 5.54163 9.49367 5.54163C10.6598 5.54163 11.7222 5.60949 12.4141 5.71053C12.4252 5.72209 13.1995 5.84549 13.4647 5.98046C13.9492 6.22802 14.25 6.71158 14.25 7.22908V7.27381C14.2381 7.61083 13.9373 8.31959 13.9262 8.31959C13.418 9.51114 11.837 11.8618 10.7865 12.8066C10.7865 12.8066 10.5165 13.0727 10.3479 13.1884C10.1056 13.3688 9.80558 13.4583 9.50554 13.4583C9.17067 13.4583 8.85875 13.3573 8.60462 13.166Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropdownArrow);\nexport default __webpack_public_path__ + \"static/media/dropdown-arrow.152123ae9a8634415892287c597f3747.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.2824 28H19.7176C24.6722 28 28 24.8136 28 20.069V7.931C28 3.1864 24.6722 0 19.7176 0H8.2824C3.3292 0 0 3.1878 0 7.9324V20.069C0 24.8136 3.3292 28 8.2824 28Z\",\n    fill: \"white\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.2384 19.7087L20.6925 14.7095C21.1025 14.3334 21.1025 13.6678 20.6925 13.2903L15.2384 8.29111C14.8125 7.90163 14.1244 7.90297 13.7014 8.29511C13.2784 8.68726 13.2784 9.3195 13.7043 9.71031L17.2926 13.0009H8.08648C7.48529 13.0009 7 13.449 7 14.0013C7 14.5535 7.48529 15.0016 8.08648 15.0016H17.2926L13.7043 18.2909C13.4913 18.4869 13.3856 18.743 13.3856 19.0005C13.3856 19.2552 13.4913 19.5113 13.7014 19.7061C14.1244 20.0969 14.8125 20.0982 15.2384 19.7087Z\",\n    fill: \"#081B27\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.16abdce9bdf7bafdfbe6ddb62643e0a2.svg\";\nexport { ForwardRef as ReactComponent };","import \"./button.scss\";\nimport { block } from \"bem-cn\";\n\nconst b = block(\"pay-with-near-ui-button\");\n\ntype Props = {\n  children: React.ReactNode;\n};\nexport const Button: React.FC<Props> = (props) => {\n  const { children } = props;\n  return <button className={b()}>{children}</button>;\n};\n","import React, {HTMLAttributes} from 'react';\n\nconst LoaderSvg = ({\n  animated = true,\n  color = 'rgb(8, 27, 39)',\n}: {\n  animated?: boolean;\n  color?: string;\n}) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 64 28\"\n    height=\"28\"\n    width=\"64\"\n    style={{\n      height: '100%',\n      width: '100%',\n      background: 'rgba(255, 255, 255, 0)',\n      shapeRendering: 'geometricPrecision',\n      animation: animated\n        ? '1.1236s linear 0s infinite normal forwards running breath-e2cae00f-38fa-433d-b977-fc5473900507'\n        : '',\n    }}\n  >\n    <g\n      className=\"ldl-scale\"\n      style={{\n        transformOrigin: '50% 50%',\n        transform: 'rotate(0deg) scale(0.48, 0.48)',\n      }}\n    >\n      <g\n        className=\"ldl-ani\"\n        style={{\n          transformOrigin: '6.5px 6.5px',\n          transform: 'scale(0.91)',\n        }}\n      >\n        <g className=\"ldl-layer\">\n          <g className=\"ldl-ani\">\n            <path\n              fill=\"#081B27\"\n              d=\"M56.3957 0.870853C50.7534 -1.39971 43.7165 1.10377 39.2019 4.53889C37.808 5.58674 37.6754 7.45008 38.8701 8.67272C40.065 9.89535 42.1894 10.0116 43.5836 8.96375C46.903 6.40218 51.2175 5.23757 53.6737 6.16934C56.5283 7.2753 56.9268 11.5258 56.9268 13.9126C56.9268 16.2998 56.5289 20.5497 53.6737 21.6559C51.2175 22.7042 46.9021 21.5396 43.5836 18.9781L24.8633 4.59657C20.3493 1.16151 13.3127 -1.34203 7.6696 0.928536C4.4166 2.20981 0.5 5.5282 0.5 13.9699C0.5 22.4117 4.4166 25.7308 7.6696 27.0693C13.3122 29.3398 20.3488 26.8362 24.8633 23.4011C26.2574 22.3533 26.39 20.4899 25.1952 19.2672C24.0004 18.0446 21.8759 17.9284 20.4818 18.9762C17.1625 21.5377 12.8478 22.7023 10.3915 21.7706C7.53718 20.6646 7.13851 16.4142 7.13851 14.0275C7.13851 11.6402 7.5366 7.39021 10.3915 6.28425C12.7816 5.29448 17.1626 6.51717 20.4157 9.07866L39.1359 23.4589C42.4553 26.0204 47.1016 28 51.6162 28C53.2096 28 54.8024 27.7672 56.3297 27.1263C59.5825 25.8457 63.4992 22.4687 63.4992 14.0273C63.5649 5.52762 59.6488 2.20976 56.3957 0.870853Z\"\n              style={{fill: color}}\n            ></path>\n          </g>\n        </g>\n      </g>\n    </g>\n    <style\n      id=\"breath-e2cae00f-38fa-433d-b977-fc5473900507\"\n      data-anikit=\"\"\n    >{`@keyframes breath-e2cae00f-38fa-433d-b977-fc5473900507\n{\n  0% {\n    animation-timing-function: cubic-bezier(0.9647,0.2413,-0.0705,0.7911);\n    transform: scale(0.91);\n  }\n  51% {\n    animation-timing-function: cubic-bezier(0.9226,0.2631,-0.0308,0.7628);\n    transform: scale(1.02994);\n  }\n  100% {\n    transform: scale(0.91);\n  }\n}`}</style>\n  </svg>\n);\n\nexport function Loader(\n  props: HTMLAttributes<SVGSVGElement> & {animated?: boolean},\n): JSX.Element {\n  return <LoaderSvg {...props} />;\n}\n","import { block } from \"bem-cn\";\nimport \"./loader-container.scss\";\n\nconst b = block(\"pay-with-near-loader-container\");\n\nexport const LoaderContainer: React.FC = (props) => {\n  return <div className={b()}>{props.children}</div>;\n};\n"],"names":["isAxiosError","error","request","response","successResponse","data","result","fetchCurrencies","wrapRequest","axios","path","environment","join","fetchPayment","id","res","mapFetchPaymentData","paymentId","payment_id","network","status","address","amount","name","description","displayAmountUsd","display_amount_usd","displayAmount","display_amount","returnUrl","return_url","expiryAt","expiry_at","baseApi","process","defaultCurrency","payWithNearUrl","nearToYoktoNear","nearAmount","utils","toString","NEAR_NOT_READY","Error","useNear","near","useNearContext","isAuthorized","walletConnection","getAccountId","isReady","login","redirect","requestSignIn","successUrl","failureUrl","send","account","callbackUrl","accountId","keypair","publicKeyRandom","getPublicKey","provider","block","finality","recentBlockHash","header","hash","transaction","transactions","requestSignTransactions","usePayment","useParams","navigate","useNavigate","useState","isExpired","setIsExpired","paymentSwr","useSWR","paymentApi","refreshInterval","shouldRetryOnError","useEffect","handleExpired","useCallback","payment","_path","b","bMain","bFooter","Layout","props","children","className","mix","src","alt","Main","Footer","rest","classNames","href","GeneralLayout","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","ref","d","ForwardRef","SvgDropdownArrow","LoaderSvg","animated","color","style","background","shapeRendering","animation","transformOrigin","transform","Loader","LoaderContainer"],"sourceRoot":""}